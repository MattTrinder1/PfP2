"Scr_circumstances As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    OnVisible: |-
        =Set(
            madcolsic,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsic: LightGoldenRodYellow});
        Set(
            madcolsjc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsjc: LightGoldenRodYellow});
        Set(
            madcolskc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolskc: LightGoldenRodYellow});
        Set(
            madcolslc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolslc: LightGoldenRodYellow});
        Set(
            madcolsmc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsmc: LightGoldenRodYellow});
        Set(
            madcolsnc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsnc: LightGoldenRodYellow});
        Set(
            madcolsoc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsoc: LightGoldenRodYellow});
        Set(
            madcolspc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolspc: LightGoldenRodYellow});
        Set(
            madcolsqc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsqc: LightGoldenRodYellow});
        Set(
            madcolsrc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsrc: LightGoldenRodYellow});
        Set(
            madcolssc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolssc: LightGoldenRodYellow});Set(
            madcolstc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolstc: LightGoldenRodYellow});
        Set(
            madcolsuc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsuc: LightGoldenRodYellow});Set(
            madcolsvc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsvc: LightGoldenRodYellow});Set(
            madcolsxc,
            LightGoldenRodYellow
        );
        UpdateContext({madcolsxc: LightGoldenRodYellow});
        If(Len(ddl_house_secure.Selected.cp_name)>0,UpdateContext({madcolsic:White}),UpdateContext({madcolsic:LightGoldenRodYellow}));If(Len(ddl_house_temperature.Selected.cp_name)>0,UpdateContext({madcolsjc:White}),UpdateContext({madcolsjc:LightGoldenRodYellow}));If(Len(rb_cid_attended.Selected.Value)>0,UpdateContext({madcolskc:White}),UpdateContext({madcolskc:LightGoldenRodYellow}));If(Len(txt_physical_position.Text)>0,UpdateContext({madcolsmc:White}),UpdateContext({madcolsmc:LightGoldenRodYellow}));If(Len(rb_suspect_suicide.Selected.Value)>0,UpdateContext({madcolslc:White}),UpdateContext({madcolslc:LightGoldenRodYellow}));If(Len(txt_marks_bruises.Text)>0,UpdateContext({madcolsnc:White}),UpdateContext({madcolsnc:LightGoldenRodYellow}));If(Len(tx_clothing.Text)>0,UpdateContext({madcolsoc:White}),UpdateContext({madcolsoc:LightGoldenRodYellow}));If(Len(tx_last_seen.Text)>0,UpdateContext({madcolsxc:White}),UpdateContext({madcolsxc:LightGoldenRodYellow}));If(Len(rb_dols.Selected.Value)>0,UpdateContext({madcolspc:White}),UpdateContext({madcolspc:LightGoldenRodYellow}));If(Len(rb_deathincustody.Selected.Value)>0,UpdateContext({madcolsqc:White}),UpdateContext({madcolsqc:LightGoldenRodYellow}));If(Len(rb_death_inhospital.Selected.Value)>0,UpdateContext({madcolssc:White}),UpdateContext({madcolssc:LightGoldenRodYellow}));If(Len(rb_deceased_smoker.Selected.Value)>0,UpdateContext({madcolsvc:White}),UpdateContext({madcolsvc:LightGoldenRodYellow}));If(Len(rb_death_inhealthcare.Selected.Value)>0,UpdateContext({madcolsrc:White}),UpdateContext({madcolsrc:LightGoldenRodYellow}));If(Len(rb_police_contact_prior_todeath.Selected.Value)>0,UpdateContext({madcolstc:White}),UpdateContext({madcolstc:LightGoldenRodYellow}));If(Len(rb_work_related_death.Selected.Value)>0,UpdateContext({madcolsuc:White}),UpdateContext({madcolsuc:LightGoldenRodYellow}))

    RectQuickActionBar2_3 As rectangle:
        Height: =88
        Width: =Parent.Width
        ZIndex: =1

    LblAppName2_3 As label:
        Align: =Align.Center
        Fill: =RGBA(153, 153, 153, 1)
        FontWeight: =FontWeight.Bold
        Height: =88
        Size: =27
        Text: ="Circumstances"
        Width: =Parent.Width
        ZIndex: =2

    Icon3_7 As icon.ArrowLeft:
        Color: =RGBA(255, 255, 255, 1)
        Icon: =Icon.ArrowLeft
        OnSelect: =Navigate(Scr_home,UnCover)
        X: =31
        Y: =13
        ZIndex: =4

    Icn_exit_8 As icon.Cancel:
        BorderColor: =RGBA(32, 54, 71, 1)
        Color: =RGBA(255, 255, 255, 1)
        Icon: =Icon.Cancel
        OnSelect: =Navigate(Scr_home,UnCover)
        X: =576
        Y: =13
        ZIndex: =5

    Canvas2_3 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =941
        Width: =Parent.Width
        Y: =RectQuickActionBar2_3.Y + RectQuickActionBar2_3.Height
        ZIndex: =6

        DataCard2_3 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =4262+y4
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            ddl_cicrumstances_incident_key As dropdown:
                BorderColor: =RGBA(128, 128, 128, 1)
                ChevronBackground: =RGBA(128, 128, 128, 1)
                ChevronHoverBackground: =ColorFade(RGBA(230, 230, 230, 100), -20%)
                Default: =Sudden_Primary_key
                DisplayMode: =DisplayMode.Disabled
                Height: =70
                HoverFill: =RGBA(230, 230, 230, 1)
                Items: =Filter('Sudden death offline',Key=Sudden_Primary_key).Key
                SelectionFill: =RGBA(128, 128, 128, 1)
                Size: =21
                Width: =545
                X: =40
                Y: =40
                ZIndex: =1

            txt_circumstances As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).Circumstances
                EnableSpellCheck: =true
                Height: =424
                HintText: ="Circumstances surrounding and leading up to death"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                Mode: =TextMode.MultiLine
                Size: =21
                Width: =545
                X: =44
                Y: =152
                ZIndex: =8

            ddl_house_secure As dropdown:
                AllowEmptySelection: =true
                BorderColor: =RGBA(128, 128, 128, 1)
                ChevronBackground: =RGBA(128, 128, 128, 1)
                ChevronHoverBackground: =ColorFade(RGBA(166, 166, 166, 100), -20%)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).SecureHousename
                Fill: =madcolsic
                Height: =70
                HoverFill: =RGBA(230, 230, 230, 1)
                Items: =Housesecureoffline
                OnChange: |-
                    =If(Len(ddl_house_secure.Selected.cp_name)>0,UpdateContext({madcolsic:White}),UpdateContext({madcolsic:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(ddl_house_secure.Selected.cp_name)>0,UpdateContext({madcolsic:White}),UpdateContext({madcolsic:LightGoldenRodYellow}))
                Reset: =ResetAll
                SelectionFill: =RGBA(128, 128, 128, 1)
                Size: =21
                Width: =545
                X: =44
                Y: =666
                ZIndex: =9

            Label3_14 As label:
                Height: =60
                Size: =21
                Text: ="Was house secure?"
                Width: =545
                X: =44
                Y: =603
                ZIndex: =10

            ddl_house_temperature As dropdown:
                AllowEmptySelection: =true
                BorderColor: =RGBA(128, 128, 128, 1)
                ChevronBackground: =RGBA(128, 128, 128, 1)
                ChevronHoverBackground: =ColorFade(RGBA(166, 166, 166, 100), -20%)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).HouseTemperaturename
                Fill: =madcolsjc
                Height: =70
                Items: =Housetemperatureoffline
                OnChange: |-
                    =If(Len(ddl_house_temperature.Selected.cp_name)>0,UpdateContext({madcolsjc:White}),UpdateContext({madcolsjc:LightGoldenRodYellow}))
                OnSelect: =
                Reset: =ResetAll
                SelectionFill: =RGBA(128, 128, 128, 1)
                Size: =21
                Width: =545
                X: =44
                Y: =790
                ZIndex: =11

            Label3_16 As label:
                Height: =60
                Size: =21
                Text: ="House temperature"
                Width: =545
                X: =44
                Y: =740
                ZIndex: =12

            Lbl_asteriks_34 As label:
                Color: =RGBA(255, 0, 0, 1)
                Height: =38
                Size: =21
                Text: ="*"
                Width: =22
                X: =566
                Y: =632
                ZIndex: =13

            Lbl_asteriks_35 As label:
                Color: =RGBA(255, 0, 0, 1)
                Height: =38
                Size: =21
                Text: ="*"
                Width: =22
                X: =571
                Y: =761
                ZIndex: =14

            Label2_34 As label:
                Height: =66
                Size: =21
                Text: |-
                    ="CAST/CSI Attended?
                    "
                Width: =560
                X: =44
                Y: =870
                ZIndex: =15

            rb_cid_attended As radio:
                BorderStyle: =BorderStyle.None
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).CIDattended
                Fill: =madcolskc
                Height: =97
                Items: =["Yes","No"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_cid_attended.Selected.Value)>0,UpdateContext({madcolskc:White}),UpdateContext({madcolskc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_cid_attended.Selected.Value)>0,UpdateContext({madcolskc:White}),UpdateContext({madcolskc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =336
                X: =44
                Y: =919
                ZIndex: =16

            txt_cid_attending As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).CID_Attending
                Height: =123
                HintText: ="Additional (Non-staff) CSI Attending"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                Mode: =TextMode.MultiLine
                Size: =21
                Width: =545
                X: =49
                Y: =1107
                ZIndex: =17

            Label2_35 As label:
                Height: =66
                Size: =21
                Text: |-
                    ="Photos taken by CSI?
                    "
                Width: =560
                X: =44
                Y: =1230
                ZIndex: =18

            rb_photo_taken_by_csi As radio:
                BorderStyle: =BorderStyle.None
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).PhotosTakenbyCID
                Height: =97
                Items: =["Yes","No"]
                Layout: =Layout.Horizontal
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =336
                X: =44
                Y: =1265
                ZIndex: =19

            Lbl_asteriks_36 As label:
                Color: =RGBA(255, 0, 0, 1)
                Height: =38
                Size: =21
                Text: ="*"
                Width: =22
                X: =289
                Y: =862
                ZIndex: =20

            Label2_33 As label:
                Height: =66
                Size: =21
                Text: |-
                    ="Do you suspect this to be suicide?
                    "
                Width: =560
                X: =49
                Y: =1363
                ZIndex: =21

            rb_suspect_suicide As radio:
                BorderStyle: =BorderStyle.None
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).SuspectSuicide
                Fill: =madcolslc
                Height: =97
                Items: =["Yes","No"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_suspect_suicide.Selected.Value)>0,UpdateContext({madcolskc:White}),UpdateContext({madcolslc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_suspect_suicide.Selected.Value)>0,UpdateContext({madcolskc:White}),UpdateContext({madcolslc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =336
                X: =49
                Y: =1423
                ZIndex: =22

            Lbl_asteriks_38 As label:
                Color: =RGBA(255, 0, 0, 1)
                Height: =38
                Size: =21
                Text: ="*"
                Width: =22
                X: =501
                Y: =1384
                ZIndex: =23

            ComboBox_cidcsiselect As combobox:
                BorderColor: =RGBA(116, 116, 116, 1)
                ChevronBackground: =RGBA(116, 116, 116, 1)
                ChevronHoverBackground: =ColorFade(RGBA(166, 166, 166, 100), -20%)
                Default: =LookUp(Usersalllocal,cp_badgenumber=LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).CIDcsiselectname)
                DefaultSelectedItems: =LookUp(Usersalllocal,cp_badgenumber=LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).CIDcsiselectname)
                DisplayFields: =["fullname","cp_badgenumber"]
                Height: =70
                HoverFill: =RGBA(230, 230, 230, 1)
                InputTextPlaceholder: ="Find CAST/CSI"
                Items: =Usersalllocal
                MultiValueDelimiter: =","
                OnSelect: =
                Reset: =ResetAll
                SearchFields: =["fullname"]
                SearchItems: =Search(Usersalllocal,ComboBox_cidcsiselect.SearchText,"fullname")
                SelectionFill: =RGBA(116, 116, 116, 1)
                Size: =21
                Template: =ListItemTemplate.Double
                Width: =545
                X: =49
                Y: =1026
                ZIndex: =24

            txt_physical_position As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).PhysicalPosition
                Fill: =madcolsmc
                Height: =70
                HintText: ="Physical position of body"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(255, 255, 255, 1)
                OnChange: |-
                    =If(Len(txt_physical_position.Text)>0,UpdateContext({madcolsmc:White}),UpdateContext({madcolsmc:LightGoldenRodYellow}))
                OnSelect: =
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =40
                Y: =1695+y4
                ZIndex: =25

            txt_marks_bruises As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).MarksBruises
                Fill: =madcolsnc
                Height: =70
                HintText: ="Marks or bruises"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                OnChange: |-
                    =If(Len(txt_marks_bruises.Text)>0,UpdateContext({madcolsnc:White}),UpdateContext({madcolsnc:LightGoldenRodYellow}))
                OnSelect: =
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =40
                Y: =1795+y4
                ZIndex: =26

            tx_clothing As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).Clothing
                Fill: =madcolsoc
                Height: =70
                HintText: ="Clothing / general condition"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                OnChange: |-
                    =If(Len(tx_clothing.Text)>0,UpdateContext({madcolsoc:White}),UpdateContext({madcolsoc:LightGoldenRodYellow}))
                OnSelect: =
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =40
                Y: =1895+y4
                ZIndex: =27

            tx_telephone_lastseenalive_by As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).TelephoneLastSeenAliveBy
                Height: =70
                HintText: ="Telephone"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =40
                Y: =2095+y4
                ZIndex: =28

            txt_where_just_seen_alive As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).WhereLastSeenAlive
                Height: =70
                HintText: ="Where last seen alive?"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =40
                Y: =2195+y4
                ZIndex: =29

            Lbl_asteriks_39 As label:
                Color: =RGBA(255, 0, 0, 1)
                Height: =38
                Size: =21
                Text: ="*"
                Width: =22
                X: =581
                Y: =1766+y4
                ZIndex: =30

            Lbl_asteriks_40 As label:
                Color: =RGBA(255, 0, 0, 1)
                Height: =38
                Size: =21
                Text: ="*"
                Width: =22
                X: =579
                Y: =1666+y4
                ZIndex: =31

            Lbl_asteriks_41 As label:
                Color: =RGBA(255, 0, 0, 1)
                Height: =38
                Size: =21
                Text: ="*"
                Width: =22
                X: =581
                Y: =1966+y4
                ZIndex: =32

            Lbl_asteriks_42 As label:
                Color: =RGBA(255, 0, 0, 1)
                Height: =38
                Size: =21
                Text: ="*"
                Width: =22
                X: =579
                Y: =1866+y4
                ZIndex: =33

            dt_last_seen_alive As datepicker:
                BorderColor: =RGBA(153, 153, 153, 1)
                DefaultDate: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).DateLastSeenAlive
                Height: =70
                IconBackground: =RGBA(153, 153, 153, 1)
                InputTextPlaceholder: ="DD/MM/YYYY"
                IsEditable: =true
                OnChange: |-
                    =Set(
                         DateLastseenaliveby, 
                         DateTimeValue(
                              dt_last_seen_alive.SelectedDate
                              & " " &  
                              Time(
                                Value(Dropdown_hour_start_2.Selected.Value),
                                Value(Dropdown_min_start_2.Selected.Value),
                                0
                         )
                    ));
                Reset: =ResetAll
                Size: =24
                Width: =545
                X: =40
                Y: =2319+y4
                ZIndex: =34

            Label3_17 As label:
                Height: =60
                Size: =21
                Text: ="Date and time last seen alive"
                Width: =545
                X: =40
                Y: =2269+y4
                ZIndex: =35

            txt_additional_notes As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).AdditionalNotes
                Height: =91
                HintText: ="Additional notes"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                Mode: =TextMode.MultiLine
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =40
                Y: =2506+y4
                ZIndex: =36

            Label2_37 As label:
                Height: =66
                Size: =21
                Text: ="Death in custody?"
                Width: =545
                X: =42
                Y: =2749+y4
                ZIndex: =38

            rb_deathincustody As radio:
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).DeathInCustody
                Fill: =madcolsqc
                Height: =90
                Items: =["Yes","No","Unknown"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_deathincustody.Selected.Value)>0,UpdateContext({madcolsqc:White}),UpdateContext({madcolsqc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_deathincustody.Selected.Value)>0,UpdateContext({madcolsqc:White}),UpdateContext({madcolsqc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =40
                Y: =2799+y4
                ZIndex: =39

            Label2_38 As label:
                Height: =66
                Size: =21
                Text: |-
                    ="Death in healthcare?
                    "
                Width: =545
                X: =42
                Y: =2899+y4
                ZIndex: =40

            rb_death_inhealthcare As radio:
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).DeathInHealthCare
                Fill: =madcolsrc
                Height: =90
                Items: =["Yes","No","Unknown"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_death_inhealthcare.Selected.Value)>0,UpdateContext({madcolsrc:White}),UpdateContext({madcolsrc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_death_inhealthcare.Selected.Value)>0,UpdateContext({madcolsrc:White}),UpdateContext({madcolsrc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =42
                Y: =2949+y4
                ZIndex: =41

            Label2_41 As label:
                Height: =66
                Size: =21
                Text: |-
                    ="Death in hospital?
                    "
                Width: =545
                X: =42
                Y: =3049+y4
                ZIndex: =42

            rb_death_inhospital As radio:
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).DeathInHospital
                Fill: =madcolssc
                Height: =90
                Items: =["Yes","No","Unknown"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_death_inhospital.Selected.Value)>0,UpdateContext({madcolssc:White}),UpdateContext({madcolssc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_death_inhospital.Selected.Value)>0,UpdateContext({madcolssc:White}),UpdateContext({madcolssc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =42
                Y: =3099+y4
                ZIndex: =43

            Label2_42 As label:
                Height: =66
                Size: =21
                Text: ="Police contact/involvement prior to death"
                Width: =545
                X: =42
                Y: =3199+y4
                ZIndex: =44

            rb_police_contact_prior_todeath As radio:
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).PoliceContactPriorToDeath
                Fill: =madcolstc
                Height: =90
                Items: =["Yes","No","Unknown"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_police_contact_prior_todeath.Selected.Value)>0,UpdateContext({madcolstc:White}),UpdateContext({madcolstc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_police_contact_prior_todeath.Selected.Value)>0,UpdateContext({madcolstc:White}),UpdateContext({madcolstc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =42
                Y: =3259+y4
                ZIndex: =45

            Lbl_asteriks_44 As label:
                Color: =RGBA(255, 0, 0, 1)
                Size: =21
                Text: ="*"
                Width: =40
                X: =280
                Y: =2745+y4
                ZIndex: =46

            Lbl_asteriks_45 As label:
                Color: =RGBA(255, 0, 0, 1)
                Size: =21
                Text: ="*"
                Width: =40
                X: =311
                Y: =2895+y4
                ZIndex: =47

            Lbl_asteriks_46 As label:
                Color: =RGBA(255, 0, 0, 1)
                Size: =21
                Text: ="*"
                Width: =40
                X: =280
                Y: =3047+y4
                ZIndex: =48

            Lbl_asteriks_47 As label:
                Color: =RGBA(255, 0, 0, 1)
                Size: =21
                Text: ="*"
                Width: =40
                X: =125
                Y: =3219+y4
                ZIndex: =49

            Label2_36 As label:
                Height: =66
                Size: =21
                Text: ="Subject of DOLS?"
                Width: =545
                X: =42
                Y: =2599+y4
                ZIndex: =50

            rb_dols As radio:
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).Dols
                Fill: =madcolspc
                Height: =90
                Items: =["Yes","No","Unknown"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_dols.Selected.Value)>0,UpdateContext({madcolspc:White}),UpdateContext({madcolspc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_dols.Selected.Value)>0,UpdateContext({madcolspc:White}),UpdateContext({madcolspc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =42
                Y: =2649+y4
                ZIndex: =51

            Lbl_asteriks_43 As label:
                Color: =RGBA(255, 0, 0, 1)
                Size: =21
                Text: ="*"
                Width: =40
                X: =275
                Y: =2597+y4
                ZIndex: =52

            Label2_43 As label:
                Height: =66
                Size: =21
                Text: ="Work related death?"
                Width: =545
                X: =42
                Y: =3359+y4
                ZIndex: =53

            rb_work_related_death As radio:
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).WorkRelatedDeath
                Fill: =madcolsuc
                Height: =90
                Items: =["Yes","No","Unknown"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_work_related_death.Selected.Value)>0,UpdateContext({madcolsuc:White}),UpdateContext({madcolsuc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_work_related_death.Selected.Value)>0,UpdateContext({madcolsuc:White}),UpdateContext({madcolsuc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =40
                Y: =3409+y4
                ZIndex: =54

            Label2_44 As label:
                Height: =66
                Size: =21
                Text: ="Was the deceased a smoker?"
                Width: =545
                X: =42
                Y: =3509+y4
                ZIndex: =55

            rb_deceased_smoker As radio:
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).DeceasedSmoker
                Fill: =madcolsvc
                Height: =90
                Items: =["Yes","No","Unknown"]
                Layout: =Layout.Horizontal
                OnChange: |-
                    =If(Len(rb_deceased_smoker.Selected.Value)>0,UpdateContext({madcolsvc:White}),UpdateContext({madcolsvc:LightGoldenRodYellow}))
                OnSelect: |-
                    =If(Len(rb_deceased_smoker.Selected.Value)>0,UpdateContext({madcolsvc:White}),UpdateContext({madcolsvc:LightGoldenRodYellow}))
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =42
                Y: =3559+y4
                ZIndex: =56

            Lbl_asteriks_37 As label:
                Color: =RGBA(255, 0, 0, 1)
                Size: =21
                Text: ="*"
                Width: =40
                X: =311
                Y: =3354+y4
                ZIndex: =57

            Lbl_asteriks_48 As label:
                Color: =RGBA(255, 0, 0, 1)
                Size: =21
                Text: ="*"
                Width: =40
                X: =423
                Y: =3509+y4
                ZIndex: =58

            txt_circumstances_additional_information As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).CircumstancesAdditionalInfo
                EnableSpellCheck: =true
                Height: =199
                HintText: ="Additional information"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                Mode: =TextMode.MultiLine
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =44
                Y: =3682+y4
                ZIndex: =60

            photo_circumstances As group:
                Height: =5
                Width: =5
                X: =25
                Y: =34
                ZIndex: =61

                UploadedImage1_1 As image:
                    Height: =241
                    Image: =If(IsBlank(AddMediaButton1_1.Media), LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).PhotoCircumstances, AddMediaButton1_1.Media)
                    ImagePosition: =ImagePosition.Fill
                    Width: =545
                    X: =44
                    Y: =3909+y4
                    ZIndex: =62

                AddMediaButton1_1 As addMedia:
                    Height: =241
                    Size: =25
                    Text: ="Add a photo"
                    UseMobileCamera: =true
                    Width: =545
                    X: =44
                    Y: =3909+y4
                    ZIndex: =63

            Label2_28 As label:
                Height: =66
                Size: =21
                Text: |-
                    ="Suicide note left?
                    "
                Visible: =rb_suspect_suicide.Selected.Value ="Yes"
                Width: =560
                X: =49
                Y: =1540
                ZIndex: =66

            AddMediaWithImage1 As group:
                Height: =5
                Width: =5
                X: =25
                Y: =60
                ZIndex: =67

                UploadedImage1 As image:
                    Height: =252
                    Image: =If(IsBlank(AddMediaButton1.Media), SampleImage, AddMediaButton1.Media)
                    ImagePosition: =ImagePosition.Fill
                    OnSelect: =
                    Visible: =SuicideNote
                    Width: =545
                    X: =44
                    Y: =1677
                    ZIndex: =64

                AddMediaButton1 As addMedia:
                    Height: =252
                    OnSelect: =
                    Size: =25
                    Visible: =SuicideNote
                    Width: =545
                    X: =95
                    Y: =1730
                    ZIndex: =65

            rb_suicide_note As radio:
                BorderStyle: =BorderStyle.None
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).SuicideNoteLeft
                Height: =97
                Items: =["Yes","No"]
                Layout: =Layout.Horizontal
                OnChange: |
                    =If(
                        rb_suicide_note.Selected.Value = "Yes",
                        UpdateContext({SuicideNote: true});
                        UpdateContext({y4: y4 + 270})
                    );
                    If(
                        rb_suicide_note.Selected.Value = "No",
                        UpdateContext({SuicideNote: false});
                        UpdateContext({y4: 0})
                    );
                OnSelect: |-
                    =/*If(
                        rb_suicide_note.Selected.Value = "Yes",
                        UpdateContext({SuicideNote: true});
                        UpdateContext({y4: y4 + 270})
                    );
                    If(
                        rb_suicide_note.Selected.Value = "No",
                        UpdateContext({SuicideNote: false});
                        UpdateContext({y4: 0})
                    );
                    */
                RadioBorderColor: =RGBA(128, 128, 128, 1)
                Size: =21
                Visible: =rb_suspect_suicide.Selected.Value ="Yes"
                Width: =545
                X: =49
                Y: =1580
                ZIndex: =68

            tx_last_seen As text:
                BorderColor: =RGBA(153, 153, 153, 1)
                Default: =LookUp('Sudden death offline',Key=ddl_cicrumstances_incident_key.Selected.Key).LastSeenAliveBy
                Fill: =madcolsxc
                Height: =70
                HintText: ="Last seen alive by"
                HoverBorderColor: =RGBA(128, 128, 128, 1)
                HoverFill: =RGBA(230, 230, 230, 1)
                OnChange: |-
                    =If(Len(tx_last_seen.Text)>0,UpdateContext({madcolsxc:White}),UpdateContext({madcolsxc:LightGoldenRodYellow}))
                OnSelect: =
                Reset: =ResetAll
                Size: =21
                Width: =545
                X: =42
                Y: =1996+y4
                ZIndex: =69

            Dropdown_hour_start_2 As dropdown:
                BorderColor: =RGBA(153, 153, 153, 1)
                ChevronBackground: =RGBA(153, 153, 153, 1)
                ChevronHoverBackground: =ColorFade(RGBA(166, 166, 266, 100), -20%)
                Default: ="00"
                FocusedBorderColor: =Dropdown_hour_start_2.BorderColor
                Height: =70
                HoverBorderColor: =ColorFade(Dropdown_hour_start_2.BorderColor, 15%)
                HoverFill: =RGBA(230, 230, 230, 1)
                Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                OnChange: |
                    =If(
                        Time(
                            Value(Dropdown_hour_start_2.Selected.Value),
                            Value(Dropdown_min_start_2.Selected.Value),
                            0
                        ) < Time(
                            08,
                            00,
                            0
                        ),
                        UpdateContext({starttime: true}),
                        UpdateContext({starttime: false})
                    );
                    Set(
                         DateLastseenaliveby, 
                         DateTimeValue(
                              dt_last_seen_alive.SelectedDate
                              & " " &  
                              Time(
                                Value(Dropdown_hour_start_2.Selected.Value),
                                Value(Dropdown_min_start_2.Selected.Value),
                                0
                         )
                    ));
                    /*If(
                        Value(Dropdown_hour_start_1.Selected.Value) < Value(Dropdown_hour_start_2.Selected.Value),
                        Reset(Dropdown_hour_start_1)
                    );*/
                PressedBorderColor: =Dropdown_hour_start_2.HoverBorderColor
                PressedFill: =RGBA(153, 153, 153, 1)
                Reset: =ResetAll
                SelectionFill: =RGBA(230, 230, 230, 1)
                Size: =21
                Width: =135
                X: =40
                Y: =2414+y4
                ZIndex: =70

            Dropdown_min_start_2 As dropdown:
                BorderColor: =RGBA(153, 153, 153, 1)
                ChevronBackground: =RGBA(153, 153, 153, 1)
                ChevronHoverBackground: =ColorFade(RGBA(166, 166, 166, 100), -20%)
                Default: ="00"
                FocusedBorderColor: =Dropdown_min_start_2.BorderColor
                Height: =70
                HoverBorderColor: =ColorFade(Dropdown_min_start_2.BorderColor, 15%)
                HoverFill: =RGBA(230, 230, 230, 1)
                Items: |
                    =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                OnChange: |-
                    =/*If(Value(Dropdown_min_start_1.Selected.Value)<Value(Dropdown_min_start_2.Selected.Value),Reset(Dropdown_hour_start_1));*/
                    
                    Set(
                         DateLastseenaliveby, 
                         DateTimeValue(
                              dt_last_seen_alive.SelectedDate
                              & " " &  
                              Time(
                                Value(Dropdown_hour_start_2.Selected.Value),
                                Value(Dropdown_min_start_2.Selected.Value),
                                0
                         )
                    ));
                PressedBorderColor: =Dropdown_min_start_2.HoverBorderColor
                PressedFill: =RGBA(153, 153, 153, 1)
                Reset: =ResetAll
                SelectionFill: =RGBA(204, 204, 204, 1)
                Size: =21
                Width: =135
                X: =321
                Y: =2414+y4
                ZIndex: =71

            Label_hr_4 As label:
                Height: =70
                OnSelect: =LookUp('Sudden death offline',Key=Dropdown_sydden_death_key.Selected.Key)
                Size: =21
                Text: |-
                    =
                    "Hr"
                Width: =77
                X: =190
                Y: =2414+y4
                ZIndex: =72

            Label_hr_5 As label:
                Height: =70
                OnSelect: =LookUp('Sudden death offline',Key=Dropdown_sydden_death_key.Selected.Key)
                Size: =21
                Text: ="Min"
                Width: =77
                X: =459
                Y: =2414+y4
                ZIndex: =73

    Btn_save_27 As button:
        Fill: =RGBA(153, 153, 153, 1)
        Height: =70
        HoverFill: =ColorFade(RGBA(100, 118, 132, 1), -20%)
        OnSelect: |
            =UpdateIf(
                'Sudden death offline',
                Key = ddl_cicrumstances_incident_key.Selected.Key,
                {
                    Circumstances: txt_circumstances.Text,
                    SecureHouse: ddl_house_secure.Selected.cp_lookupvalueid,
                    SecureHousename: ddl_house_secure.Selected.cp_name,
                    HouseTemperature: ddl_house_temperature.Selected.cp_lookupvalueid,
                    HouseTemperaturename: ddl_house_temperature.Selected.cp_name,
                    CIDattended: rb_cid_attended.Selected.Value,
                    CIDcsiselectname: Left(
                        Concat(
                            ComboBox_cidcsiselect.SelectedItems.cp_badgenumber,
                            cp_badgenumber & ","
                        ),
                        Len(
                            Concat(
                                ComboBox_cidcsiselect.SelectedItems.cp_badgenumber,
                                cp_badgenumber & ","
                            )
                        ) - 1
                    ),
                    CIDcsiselectid: Left(
                        Concat(
                            ComboBox_cidcsiselect.SelectedItems.systemuserid,
                            systemuserid & ","
                        ),
                        Len(
                            Concat(
                                ComboBox_cidcsiselect.SelectedItems.systemuserid,
                                systemuserid & ","
                            )
                        ) - 1
                    ),
                    CID_Attending: txt_cid_attending.Text,
                    PhotosTakenbyCID: rb_photo_taken_by_csi.Selected.Value,
                    SuicideNoteLeft: rb_suicide_note.Selected.Value,
                    SuspectSuicide: rb_suspect_suicide.Selected.Value,
                    Photosuicide: UploadedImage1.Image,
                    PhysicalPosition: txt_physical_position.Text,
                    MarksBruises: txt_marks_bruises.Text,
                    Clothing: tx_clothing.Text,
                    LastSeenAliveBy: tx_last_seen.Text,
                    TelephoneLastSeenAliveBy: tx_telephone_lastseenalive_by.Text,
                    WhereLastSeenAlive: txt_where_just_seen_alive.Text,
                    DateLastSeenAlive: dt_last_seen_alive.SelectedDate,
                    TimeLastSeenalive: Time(
                        Value(Dropdown_hour_start_2.Selected.Value),
                        Value(Dropdown_min_start_2.Selected.Value),
                        0
                    ),
                    AdditionalNotes: txt_additional_notes.Text,
                    Dols: rb_dols.Selected.Value,
                    DeathInCustody: rb_deathincustody.Selected.Value,
                    DeathInHealthCare: rb_death_inhealthcare.Selected.Value,
                    DeathInHospital: rb_death_inhospital.Selected.Value,
                    PoliceContactPriorToDeath: rb_police_contact_prior_todeath.Selected.Value,
                    WorkRelatedDeath: rb_work_related_death.Selected.Value,
                    DeceasedSmoker: rb_deceased_smoker.Selected.Value,
                    CircumstancesAdditionalInfo: txt_circumstances_additional_information.Text,
                    PhotoCircumstances: UploadedImage1_1.Image
                }
            );
            UpdateContext(
                {
                    rec: LookUp(
                        'Sudden death offline',
                        Key = Sudden_Primary_key
                    )
                }
            );
            UpdateIf(
                'Sudden death offline',
                Key = Dropdown_sydden_death_key.Selected.Key,
                {
                    circumstancesValid: And(
                        !IsBlank(rec.SecureHousename),
                        !IsBlank(rec.HouseTemperaturename),
                        !IsBlank(rec.CIDattended),
                        !IsBlank(rec.SuspectSuicide),
                        !IsBlank(rec.PhysicalPosition),
                        !IsBlank(rec.MarksBruises),
                        !IsBlank(rec.Clothing),
                        !IsBlank(rec.Dols),
                        !IsBlank(rec.DeathInCustody),
                        !IsBlank(rec.DeathInHealthCare),
                        !IsBlank(rec.DeathInHospital),
                        !IsBlank(rec.PoliceContactPriorToDeath),
                        !IsBlank(rec.WorkRelatedDeath),
                        !IsBlank(rec.DeceasedSmoker)
                    )
                }
            );
            
            SaveData(
                'Sudden death offline',
                "Sudden death offline"
            );
            If(IsBlank(dt_last_seen_alive.SelectedDate),Navigate(
                Scr_home,
                ScreenTransition.UnCover
            ),
            If( DateLastseenaliveby > DateTimeconfirmed,Notify("Last seen alive cannot be later than time declared deceased",NotificationType.Error,10000),Navigate(Scr_home, ScreenTransition.UnCover)));
        Size: =24
        Text: ="Save and Continue"
        Width: =545
        X: =40
        Y: =1051
        ZIndex: =7

